"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[17415],{7892:(e,t,r)=>{r.d(t,{i:()=>a});var n=r(21728),s=r(97286);function a(e){let t,r,a,o,i,l=(0,n.c)(11),{sessions:c,initialData:d}=e;l[0]!==c?(t=c||[],l[0]=c,l[1]=t):t=l[1],l[2]!==t?(r=function(e){let t=new Set;for(let r of e)t.add(r.user_id);return Array.from(t).sort((e,t)=>e-t).join(",")}(t),l[2]=t,l[3]=r):r=l[3];let u=r;return l[4]!==u?(a=["agent-sessions-users",u],o=async()=>{let e=await fetch(`/copilot/agent-sessions/users?user_ids=${encodeURIComponent(u)}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!e.ok)throw Error("Failed to fetch session owners");return(await e.json()).users},l[4]=u,l[5]=a,l[6]=o):(a=l[5],o=l[6]),l[7]!==d||l[8]!==a||l[9]!==o?(i={queryKey:a,queryFn:o,initialData:d},l[7]=d,l[8]=a,l[9]=o,l[10]=i):i=l[10],(0,s.I)(i)}},12385:(e,t,r)=>{r.d(t,{l:()=>m});var n=r(74848),s=r(21728),a=r(96540),o=r(21373),i=r(38621),l=r(67154),c=r(44296),d=r(42455),u=r(51120);function m(e){let t,r,m,p,g,h,f,y=(0,s.c)(23),{nwo:_,currentUserCanPush:b,variant:w,onStoppingStateChange:x,loading:j}=e,{session:v}=(0,c.Lg)(),[N,k]=(0,a.useState)(!1),C=[l.Yj.InProgress,l.Yj.Idle,l.Yj.WaitingForUser].includes(v.state)&&!N;y[0]!==_||y[1]!==v.id?(t={queryKey:["stopSession",_,v.id],queryFn:async()=>await (0,u.I)({path:`/agents/swe/jobs/${_}/session/${v.id}/cancel`,method:"POST"}),enabled:!1,retry:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!1},y[0]=_,y[1]=v.id,y[2]=t):t=y[2];let S=(0,d.b)(t);y[3]!==S.isLoading||y[4]!==S.isSuccess?(r=()=>{S.isSuccess&&!S.isLoading&&k(!0)},m=[S.isSuccess,S.isLoading],y[3]=S.isLoading,y[4]=S.isSuccess,y[5]=r,y[6]=m):(r=y[5],m=y[6]),(0,a.useEffect)(r,m);let E=S.isFetching||S.isLoading,P=E?"Stopping session...":"Stop session";y[7]!==S?(p=()=>S.refetch(),y[7]=S,y[8]=p):p=y[8];let $=p;y[9]!==x||y[10]!==E?(g=()=>{x?.(E)},h=[E,x],y[9]=x,y[10]=E,y[11]=g,y[12]=h):(g=y[11],h=y[12]),(0,a.useEffect)(g,h);let I=j??E,T=I?"":"Stop";if("icon-text-button"===(void 0===w?"button":w)){let e;return y[13]!==$||y[14]!==T||y[15]!==I||y[16]!==E?(e=(0,n.jsx)(o.Q,{leadingVisual:i.SquareCircleIcon,"aria-label":"Stop session",variant:"invisible",size:"small",onClick:$,"aria-disabled":E,loading:I,children:T}),y[13]=$,y[14]=T,y[15]=I,y[16]=E,y[17]=e):e=y[17],e}return _&&b&&C?(y[18]!==P||y[19]!==$||y[20]!==I||y[21]!==E?(f=(0,n.jsx)(o.Q,{className:"mr-2",leadingVisual:i.SquareFillIcon,variant:"danger",onClick:$,loading:I,loadingAnnouncement:"Stopping session","aria-disabled":E,children:P}),y[18]=P,y[19]=$,y[20]=I,y[21]=E,y[22]=f):f=y[22],f):null}try{m.displayName||(m.displayName="SessionStopButton")}catch{}},16425:(e,t,r)=>{r.d(t,{$X:()=>l,_$:()=>i});var n=r(74848),s=r(21728),a=r(96540);let o=(0,a.createContext)({variant:"default",onToolExpand:null});function i(){return(0,a.useContext)(o)}function l(e){let t,r,a=(0,s.c)(6),{variant:i,onToolExpand:l,children:c}=e,d=void 0===l?null:l;a[0]!==d||a[1]!==i?(t={variant:i,onToolExpand:d},a[0]=d,a[1]=i,a[2]=t):t=a[2];let u=t;return a[3]!==c||a[4]!==u?(r=(0,n.jsx)(o.Provider,{value:u,children:c}),a[3]=c,a[4]=u,a[5]=r):r=a[5],r}try{o.displayName||(o.displayName="SessionLogsContext")}catch{}try{l.displayName||(l.displayName="SessionLogsProvider")}catch{}},24939:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(74848),s=r(21728),a=r(96540);function o(e,t){let r=new Date(e).getTime(),n=Math.floor(((t&&"0001-01-01T00:00:00Z"!==t?new Date(t).getTime():Date.now())-r)/1e3),s=[{value:Math.floor(n/86400),label:"d"},{value:Math.floor(n%86400/3600),label:"h"},{value:Math.floor(n%3600/60),label:"m"},{value:n%60,label:"s"}].filter(e=>e.value>0);return 0===s.length?"0s":1===s.length?`${s[0]?.value??0}${s[0]?.label??""}`:s[1]?`${s[0]?.value}${s[0]?.label} ${s[1].value}${s[1].label??""}`:`${s[0]?.value??0}${s[0]?.label??""}`}var i=r(67154);function l(e){let t,r,l,c,d=(0,s.c)(10),{createdAt:u,completedAt:m,state:p}=e;d[0]!==m||d[1]!==u?(t=()=>o(u,m),d[0]=m,d[1]=u,d[2]=t):t=d[2];let[g,h]=(0,a.useState)(t);return d[3]!==m||d[4]!==u||d[5]!==p?(r=()=>{if(h(o(u,m)),p===i.Yj.InProgress||p===i.Yj.Queued){let e=setInterval(()=>{h(o(u,m))},500);return()=>clearInterval(e)}},l=[u,m,p],d[3]=m,d[4]=u,d[5]=p,d[6]=r,d[7]=l):(r=d[6],l=d[7]),(0,a.useEffect)(r,l),d[8]!==g?(c=(0,n.jsx)("time",{"aria-live":"off",className:"text-tabular-nums",children:g}),d[8]=g,d[9]=c):c=d[9],c}let c=l;try{l.displayName||(l.displayName="SessionElapsedTime")}catch{}},27566:(e,t,r)=>{r.d(t,{A:()=>n});function n(e,t){if(null!=e&&null!=t)return`/${e}/actions/runs/${t}`}},34001:(e,t,r)=>{r.d(t,{t:()=>m});var n=r(42455),s=r(67154),a=r(78314),o=r(51120),i=r(96540),l=r(61526),c=r(97665),d=r(58612),u=r(69599);function m({pullId:e,initialData:t,sessionsPollingInterval:r}){let m=(0,a.t)(),[p,g]=(0,i.useState)(0),[h,f]=(0,i.useState)(!1),y=(0,l.g)(),[_]=(0,l.ok)(),b=_.get("session_id"),w=y.session_id||b,x=(0,i.useRef)(!0),j=(0,c.jE)(),v=(0,u.G7)("copilot_agent_sessions_alive_updates"),N=(0,i.useCallback)(()=>{j.invalidateQueries({queryKey:["agent-sessions",m.ownerLogin,m.name,e]})},[j,m.ownerLogin,m.name,e]);return(0,d.N)({onEvent:N,enableCreateEvents:!0,enableUpdateEvents:!0,enableLogUpdates:!1,enabled:v}),{...(0,n.b)({queryKey:["agent-sessions",m.ownerLogin,m.name,e],queryFn:async()=>{try{let t=[];if(x.current){let r=await (0,o.I)({path:`/agents/sessions/resource/pull/${e}`}),n=(t=(await r.json()).sessions).some(e=>e.id===w);(0===t.length||w&&!n)&&(x.current=!1)}if(!x.current){let e=await (0,o.I)({path:`/agents/sessions/${w}`}),r=await e.json();r&&r.id&&(t=[r])}return g(0),f(!1),t.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime())}catch(e){throw g(e=>{let t=e+1;return t>=10&&f(!0),t}),e}},initialData:t,refetchInterval:e=>{if(v)return!1;let t=e.state.data;return t?t.some(e=>e.state===s.Yj.InProgress||e.state===s.Yj.Idle||e.state===s.Yj.WaitingForUser||e.state===s.Yj.Queued)?r:10*r:r},enabled:p<10}),timedOut:h,isRetrying:p>0&&!h}}},44296:(e,t,r)=>{r.d(t,{Lg:()=>i,PS:()=>l});var n=r(74848),s=r(21728),a=r(96540);let o=(0,a.createContext)(void 0);function i(){let e=(0,a.useContext)(o);if(!e)throw Error("useSessionContext must be used within a SessionContextProvider");return e}function l(e){let t,r,i,l=(0,s.c)(10),{session:c,sessionOwner:d,logs:u,logsAreLoading:m,children:p}=e;l[0]===Symbol.for("react.memo_cache_sentinel")?(t={},l[0]=t):t=l[0];let[g,h]=(0,a.useState)(t);l[1]!==u||l[2]!==m||l[3]!==g||l[4]!==c||l[5]!==d?(r={session:c,sessionOwner:d,logs:u,logsAreLoading:m,mcpToolNameMappings:g,setMcpToolNameMappings:h},l[1]=u,l[2]=m,l[3]=g,l[4]=c,l[5]=d,l[6]=r):r=l[6];let f=r;return l[7]!==p||l[8]!==f?(i=(0,n.jsx)(o.Provider,{value:f,children:p}),l[7]=p,l[8]=f,l[9]=i):i=l[9],i}try{o.displayName||(o.displayName="SessionContext")}catch{}try{l.displayName||(l.displayName="SessionContextProvider")}catch{}},67154:(e,t,r)=>{function n(e){return"object"==typeof e&&null!==e&&"choices"in e&&Array.isArray(e.choices)}function s(e){return Array.isArray(e)&&e.every(e=>a(e))}function a(e){return o(e)&&"source"in e}function o(e){return"object"==typeof e&&null!==e&&"role"in e&&"user"===e.role}function i(e){return"object"==typeof e&&null!==e&&(n(e)||o(e)||"object"==typeof e&&null!==e&&"role"in e&&"tool"===e.role||"object"==typeof e)}function l(e){return!!e&&[946600,71,106,776,386,56].includes(e.agent_id)}r.d(t,{JK:()=>a,K9:()=>m,PG:()=>o,Pb:()=>s,Qx:()=>n,SS:()=>l,VY:()=>p,X:()=>i,Yj:()=>c,cv:()=>h,mk:()=>g,v5:()=>u,wG:()=>d});let c={InProgress:"in_progress",Completed:"completed",Failed:"failed",Idle:"idle",WaitingForUser:"waiting_for_user",TimedOut:"timed_out",Cancelled:"cancelled",Queued:"queued"};function d(e){switch(e){case c.InProgress:return"In progress";case c.Completed:return"Ready for review";case c.Failed:return"Failed";case c.Idle:return"Idle";case c.WaitingForUser:return"Waiting for user";case c.TimedOut:return"Timed out";case c.Cancelled:return"Cancelled";case c.Queued:return"Queued";default:return"Unknown"}}function u(e){return["queued","in_progress"].includes(e.state)}function m(e){return e.state===c.Completed}function p(e){return!!e.isPending&&e.state===c.Queued}function g(e){return e.state===c.Cancelled}function h(e){return e.state===c.Failed}},75709:(e,t,r)=>{r.d(t,{NL:()=>X,cD:()=>Z,sr:()=>D});var n=r(74848),s=r(21728),a=r(4817),o=r(38621),i=r(69726),l=r(21373),c=r(69599);let d="ToolHeader-module__summaryButtonMissionControl--MuMQb",u="ToolHeader-module__toggleIcon--Ym361",m="ToolHeader-module__text--SYGGt",p="ToolHeader-module__title--Uw_ur";var g=r(34164),h=r(16425),f=r(53419),y=r(45244);function _(e){let t,r,a,_,b,w,x,j,v,N=(0,s.c)(63),{leadingVisual:k,title:C,path:S,isCollapsed:E,isError:P,isPending:$,onModifierClick:I}=e,T=void 0!==P&&P,L=void 0!==$&&$,{variant:H,onToolExpand:F}=(0,h._$)();N[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,c.G7)("mission_control_use_tool_header_icons"),N[0]=t):t=N[0];let A=t;N[1]!==E||N[2]!==I||N[3]!==F||N[4]!==C?(r=e=>{if(F?.(!!E),(e.altKey||e.metaKey)&&I)return e.preventDefault(),e.stopPropagation(),I(!!E),(0,f.BI)("agent_sessions.task_view",{target:"TOOL_HEADER_MODIFIER",action:E?"EXPAND_ALL":"COLLAPSE_ALL",tool_title:C}),!1;(0,f.BI)("agent_sessions.task_view",{target:"TOOL_HEADER",action:E?"EXPAND":"COLLAPSE",tool_title:C})},N[1]=E,N[2]=I,N[3]=F,N[4]=C,N[5]=r):r=N[5];let G=r;if("mission-control"===H){let e,t,r,s,a,l,c,g;return N[6]!==k?(e=A&&(0,n.jsx)("span",{className:"ToolHeader-module__leadingVisualContainer--kLSVd",children:k}),N[6]=k,N[7]=e):e=N[7],N[8]!==E?(t=!A&&(0,n.jsx)(o.ChevronRightIcon,{size:12,className:u,"data-expanded":!E,"aria-hidden":"true"}),N[8]=E,N[9]=t):t=N[9],N[10]!==C?(r=(0,n.jsx)("span",{className:p,children:C}),N[10]=C,N[11]=r):r=N[11],N[12]!==S?(s=S&&(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)("span",{className:"ToolHeader-module__path--IbYwi",children:S})]}),N[12]=S,N[13]=s):s=N[13],N[14]!==r||N[15]!==s?(a=(0,n.jsxs)("span",{className:m,children:[r,s]}),N[14]=r,N[15]=s,N[16]=a):a=N[16],N[17]!==L?(l=L&&(0,n.jsx)("div",{className:"ToolHeader-module__spinnerContainer--Fe4p_",children:(0,n.jsx)(i.A,{size:"small"})}),N[17]=L,N[18]=l):l=N[18],N[19]!==E?(c=A&&(0,n.jsx)(o.ChevronRightIcon,{size:12,className:u,"data-expanded":!E}),N[19]=E,N[20]=c):c=N[20],N[21]!==G||N[22]!==l||N[23]!==c||N[24]!==e||N[25]!==t||N[26]!==a?(g=(0,n.jsxs)("summary",{className:d,onClick:G,children:[e,t,a,l,c]}),N[21]=G,N[22]=l,N[23]=c,N[24]=e,N[25]=t,N[26]=a,N[27]=g):g=N[27],g}if("chat"===H){let e,t,r,s,a,i=!E;N[28]!==i?(e=(0,n.jsx)(o.ChevronRightIcon,{size:12,className:u,"data-expanded":i}),N[28]=i,N[29]=e):e=N[29];let l=L?"ToolHeader-module__textWithShimmer--gfMkb":m;return N[30]!==L||N[31]!==C?(t=L&&(0,n.jsx)(y.b,{className:"ToolHeader-module__titleWithShimmer--EUw3f",children:C}),N[30]=L,N[31]=C,N[32]=t):t=N[32],N[33]!==L||N[34]!==C?(r=!L&&(0,n.jsx)("span",{className:p,children:C}),N[33]=L,N[34]=C,N[35]=r):r=N[35],N[36]!==l||N[37]!==t||N[38]!==r||N[39]!==C?(s=(0,n.jsxs)("span",{className:l,title:C,children:[t,r]}),N[36]=l,N[37]=t,N[38]=r,N[39]=C,N[40]=s):s=N[40],N[41]!==G||N[42]!==s||N[43]!==e?(a=(0,n.jsxs)("summary",{className:d,onClick:G,children:[e,s]}),N[41]=G,N[42]=s,N[43]=e,N[44]=a):a=N[44],a}N[45]===Symbol.for("react.memo_cache_sentinel")?(a=(0,g.$)("Button","ToolHeader-module__summaryButton--yGhGb"),N[45]=a):a=N[45];let W=!E;return N[46]!==E?(_=E?(0,n.jsx)(o.ChevronRightIcon,{}):(0,n.jsx)(o.ChevronDownIcon,{}),N[46]=E,N[47]=_):_=N[47],N[48]!==T?(b=T?(0,n.jsx)(o.AlertIcon,{size:16,className:"color-fg-attention flex-shrink-0"}):null,N[48]=T,N[49]=b):b=N[49],N[50]!==C?(w=(0,n.jsx)("span",{className:"overflow-hidden text-truncate flex-1",children:C}),N[50]=C,N[51]=w):w=N[51],N[52]!==S?(x=S&&(0,n.jsx)("span",{className:"text-mono fgColor-default",children:S}),N[52]=S,N[53]=x):x=N[53],N[54]!==x||N[55]!==w?(j=(0,n.jsxs)(n.Fragment,{children:[w," ",x]}),N[54]=x,N[55]=w,N[56]=j):j=N[56],N[57]!==G||N[58]!==j||N[59]!==W||N[60]!==_||N[61]!==b?(v=(0,n.jsx)(l.Q,{as:"summary",block:!0,className:a,alignContent:"start","aria-expanded":W,"aria-labelledby":"tool-header-title",leadingVisual:_,trailingVisual:b,onClick:G,children:j}),N[57]=G,N[58]=j,N[59]=W,N[60]=_,N[61]=b,N[62]=v):v=N[62],v}try{_.displayName||(_.displayName="ToolHeader")}catch{}var b=r(85094),w=r(96540);function x(e){let t,r,a,o,i,l=(0,s.c)(12),{bashLoading:c,children:d}=e,u=(0,w.useId)(),[m,p]=(0,w.useState)("|");return l[0]!==c?(t=()=>{let e;if(c){let t=["|","/","-","\\"],r=0;e=setInterval(()=>{r=(r+1)%t.length,p(t[r]||"|")},250)}else p("|");return()=>clearInterval(e)},r=[c],l[0]=c,l[1]=t,l[2]=r):(t=l[1],r=l[2]),(0,w.useEffect)(t,r),l[3]!==c||l[4]!==m?(a=c&&(0,n.jsx)("span",{children:m}),l[3]=c,l[4]=m,l[5]=a):a=l[5],l[6]!==d||l[7]!==a?(o=(0,n.jsx)("div",{className:"ToolCodeBlock-module__codeContainer--V645Q",children:(0,n.jsx)("pre",{className:"ToolCodeBlock-module__code--ITGLQ",tabIndex:0,children:(0,n.jsxs)("code",{className:"ToolCodeBlock-module__codeWrap--mnqde",children:[d,a]})})}),l[6]=d,l[7]=a,l[8]=o):o=l[8],l[9]!==u||l[10]!==o?(i=(0,n.jsx)("figure",{className:"ToolCodeBlock-module__container--D9MMx","aria-labelledby":u,children:o}),l[9]=u,l[10]=o,l[11]=i):i=l[11],i}try{x.displayName||(x.displayName="ToolCodeBlock")}catch{}var j=r(47970);let v="data-tool-codeblock-props",N=(0,b.F)(v),k={code:(e,t)=>{let r=(0,b.k)(e,v);return r?(0,n.jsx)(x,{...r,children:e.children}):t}};function C(e={}){let{bashLoading:t}=e;return{transformMarkdown:e=>(0,j.YR)(e,"code",e=>{e.data={...e.data,hName:"code",hProperties:{[N]:JSON.stringify({language:e.lang??"",code:e.value,startOffset:e.position?.start.offset??-1,endOffset:e.position?.end.offset??-1,bashLoading:!!t})}}}),transformHtml:e=>(0,j.YR)(e,"element",(e,t,r)=>{let n=e.children?.[0];r&&void 0!==t&&"pre"===e.tagName&&e.children?.length===1&&n?.type==="element"&&"code"===n.tagName&&N in n.properties&&r.children.splice(t,1,n)}),reactComponents:k}}function S(e=""){switch(e){case"apply_patch":case"str_replace_editor":case"str_replace":case"edit":return(0,n.jsx)(o.FileDiffIcon,{className:"fgColor-attention","aria-label":"File Edit: "});case"bash":return(0,n.jsx)(o.TerminalIcon,{"aria-label":"CLI output: "});case"think":return(0,n.jsx)(o.LightBulbIcon,{"aria-label":"Copilot Thought: "});case"create":return(0,n.jsx)(o.FileAddedIcon,{className:"fgColor-success","aria-label":"File Creation: "});case"view":return(0,n.jsx)(o.FileIcon,{"aria-label":"File View: "});case"grep":case"rg":return(0,n.jsx)(o.SearchIcon,{"aria-label":"Search: "});case"glob":return(0,n.jsx)(o.FileDirectoryIcon,{"aria-label":"Find files: "});case"run_custom_setup_step":return(0,n.jsx)(o.CodespacesIcon,{"aria-label":"Custom Setup Run: "});case"propose_work":return(0,n.jsx)(o.TasklistIcon,{"aria-label":"Propose Work: "});default:return(0,n.jsx)(o.DotFillIcon,{size:12,"aria-label":"Tool output: "})}}var E=r(98552),P=r(46251),$=r(40090);function I(e){try{let t=e.replace("/home/runner/work/","").split("/").slice(2).join("/");return t.length>0?t:void 0}catch{return e}}let T="Tool-module__diffPreview--xgOwZ";var L=r(66358);function H(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,e=>t[e]??e)}function F(e){let t=e.split(`
`),r=[],n=0,s=0;for(let e of t)if(e.startsWith("@@")){let t=e.match(/@@ -(\d+)(?:,\d+)? \+(\d+)(?:,\d+)? @@/);t&&t[1]&&t[2]&&(n=parseInt(t[1],10),s=parseInt(t[2],10)),r.push({type:L.w$.Hunk,left:null,right:null,html:H(e),text:e})}else if(e.startsWith("+")&&!e.startsWith("+++")){let t=e.slice(1);r.push({type:L.w$.Addition,left:null,right:s++,html:H(t),text:t})}else if(e.startsWith("-")&&!e.startsWith("---")){let t=e.slice(1);r.push({type:L.w$.Deletion,left:n++,right:null,html:H(t),text:t})}else if(e.startsWith(" ")){let t=e.slice(1);r.push({type:L.w$.Context,left:n++,right:s++,html:H(t),text:t})}return r}var A=r(98091),G=r(91747);function W(e){let t,r,i,c,d,u,m,p=(0,s.c)(17),{title:g,description:h,type:f}=e;p[0]!==h||p[1]!==g||p[2]!==f?(t=e=>{e.preventDefault(),console.log("Form submitted",{title:g,problemStatement:h,eventType:"propose_work",eventContent:`Proposed work: ${g}`,nwo:"owner/repo",createPullRequest:"code_change"===f})},p[0]=h,p[1]=g,p[2]=f,p[3]=t):t=p[3];let y=t;return p[4]!==g?(r=(0,n.jsx)("h3",{className:"h4",children:g}),p[4]=g,p[5]=r):r=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(l.Q,{type:"submit",leadingVisual:o.PlayIcon,children:"Start task"}),p[6]=i):i=p[6],p[7]!==y?(c=(0,n.jsx)("form",{onSubmit:y,children:i}),p[7]=y,p[8]=c):c=p[8],p[9]!==r||p[10]!==c?(d=(0,n.jsxs)("div",{className:"ToolProposeWork-module__titleContainer--vgBKL",children:[r,c]}),p[9]=r,p[10]=c,p[11]=d):d=p[11],p[12]!==h?(u=(0,n.jsx)("div",{className:"ToolProposeWork-module__descriptionContainer--SNVoI",children:(0,n.jsx)(a.To,{markdown:h})}),p[12]=h,p[13]=u):u=p[13],p[14]!==d||p[15]!==u?(m=(0,n.jsxs)("div",{className:"ToolProposeWork-module__container--FXuyj",children:[d,u]}),p[14]=d,p[15]=u,p[16]=m):m=p[16],m}try{W.displayName||(W.displayName="ToolProposeWork")}catch{}let q=({language:e,markdown:t})=>t?`~~~${e}
${t}
~~~`:`~~~
Nothing to display
~~~`;function M(e,t=1e5){return!e||e.length<=t?{markdown:e}:{markdown:e.slice(0,t)+`

\u{26A0}\u{FE0F} **Output truncated**`}}let R="Review changes with Copilot code review",V={"playwright-browser_navigate":"Navigate Playwright web browser to a URL","playwright-browser_navigate_back":"Navigate back in Playwright web browser","playwright-browser_navigate_forward":"Navigate forward in Playwright web browser","playwright-browser_click":"Click element in Playwright web browser","playwright-browser_take_screenshot":"Take screenshot of Playwright web browser","playwright-browser_type":"Type in Playwright web browser","playwright-browser_wait_for":"Wait for text to appear/disappear in Playwright web browser","playwright-browser_evaluate":"Run JavaScript in Playwright web browser","playwright-browser_snapshot":"Take snapshot of page in Playwright web browser","playwright-browser_resize":"Resize Playwright web browser window","playwright-browser_close":"Close Playwright web browser","playwright-browser_press_key":"Press key in Playwright web browser","playwright-browser_select_option":"Select option in Playwright web browser","playwright-browser_handle_dialog":"Interact with dialog in Playwright web browser","playwright-browser_console_messages":"Get console messages from Playwright web browser","playwright-browser_drag":"Drag mouse between elements in Playwright web browser","playwright-browser_file_upload":"Upload file in Playwright web browser","playwright-browser_hover":"Hover mouse over element in Playwright web browser","playwright-browser_network_requests":"Get network requests from Playwright web browser","github-mcp-server-get_file_contents":"Get file contents from GitHub","github-mcp-server-get_pull_request":"Get pull request from GitHub","github-mcp-server-get_issue":"Get issue from GitHub","github-mcp-server-get_pull_request_files":"Get pull request changed files from GitHub","github-mcp-server-list_pull_requests":"List pull requests on GitHub","github-mcp-server-list_branches":"List branches on GitHub","github-mcp-server-get_pull_request_diff":"Get pull request diff from GitHub","github-mcp-server-get_pull_request_comments":"Get pull request comments from GitHub","github-mcp-server-get_commit":"Get commit from GitHub","github-mcp-server-search_repositories":"Search repositories on GitHub","github-mcp-server-search_code":"Search code on GitHub","github-mcp-server-get_issue_comments":"Get issue comments from GitHub","github-mcp-server-list_issues":"List issues on GitHub","github-mcp-server-search_pull_requests":"Search pull requests on GitHub","github-mcp-server-list_commits":"List commits on GitHub","github-mcp-server-get_pull_request_status":"Get pull request status from GitHub","github-mcp-server-search_issues":"Search issues on GitHub","github-mcp-server-get_pull_request_reviews":"Get pull request reviews from GitHub","github-mcp-server-download_workflow_run_artifact":"Download GitHub Actions workflow run artifact","github-mcp-server-get_job_logs":"Get GitHub Actions job logs","github-mcp-server-get_workflow_run":"Get GitHub Actions workflow run","github-mcp-server-get_workflow_run_logs":"Get GitHub Actions workflow run logs","github-mcp-server-get_workflow_run_usage":"Get GitHub Actions workflow usage","github-mcp-server-list_workflow_jobs":"List GitHub Actions workflow jobs","github-mcp-server-list_workflow_run_artifacts":"List GitHub Actions workflow run artifacts","github-mcp-server-list_workflow_runs":"List GitHub Actions workflow runs","github-mcp-server-list_workflows":"List GitHub Actions workflows","gh-advisory-database":"Check new dependencies against the GitHub Advisory Database",codeql_checker:"Run CodeQL security scan on changed files",code_review:R};function D(e){let t=(0,s.c)(365),{name:r,delta:a,args:o,mcpToolNameMappings:i}=e,l=(0,G.u)("copilot_swe_agent_progress_commands");switch(r){case"bash":{let e,s,i,l,c,d=`$ ${o.command}`,u=o.description?`Bash: ${o.description}`:"Run Bash command";t[0]!==a.content?(e=er(a.content),t[0]=a.content,t[1]=e):e=t[1];let{isError:m,content:p}=e,g=void 0===p;t[2]!==r?(s=S(r),t[2]=r,t[3]=s):s=t[3],t[4]!==s?(i={leadingVisual:s},t[4]=s,t[5]=i):i=t[5];let h=o.command?.startsWith("git diff")?"diff":"bash",f=`${d}${p?`
${p}`:""}`;return t[6]!==g||t[7]!==h||t[8]!==f?(l=(0,n.jsx)(Z,{language:h,markdown:f,bashLoading:g}),t[6]=g,t[7]=h,t[8]=f,t[9]=l):l=t[9],t[10]!==m||t[11]!==g||t[12]!==i||t[13]!==l||t[14]!==u?(c=(0,n.jsx)(X,{title:u,isError:m,isPending:g,toolHeaderProps:i,children:l}),t[10]=m,t[11]=g,t[12]=i,t[13]=l,t[14]=u,t[15]=c):c=t[15],c}case"github-mcp-server-web_search":case"github-mcp-server-bing_search":{let e,s,i,l,c,d=`Web Search: ${o.query}`;t[16]!==a.content?(e=er(a.content),t[16]=a.content,t[17]=e):e=t[17];let{isError:u,content:m}=e;return t[18]!==r?(s=S(r),t[18]=r,t[19]=s):s=t[19],t[20]!==s?(i={leadingVisual:s},t[20]=s,t[21]=i):i=t[21],t[22]!==m?(l=(0,n.jsx)(Z,{language:"json",markdown:m}),t[22]=m,t[23]=l):l=t[23],t[24]!==u||t[25]!==i||t[26]!==l||t[27]!==d?(c=(0,n.jsx)(X,{title:d,isError:u,toolHeaderProps:i,children:l}),t[24]=u,t[25]=i,t[26]=l,t[27]=d,t[28]=c):c=t[28],c}case"write_bash":{let e,s,i,l,c,d=`$ ${o.input}`;t[29]!==a.content?(e=er(a.content),t[29]=a.content,t[30]=e):e=t[30];let{isError:u,content:m}=e,p=void 0===m,g=`Send input to Bash session ${o.sessionId}`;t[31]!==r?(s=S(r),t[31]=r,t[32]=s):s=t[32],t[33]!==s?(i={leadingVisual:s},t[33]=s,t[34]=i):i=t[34];let h=`${d}${m?`
${m}`:""}`;return t[35]!==p||t[36]!==h?(l=(0,n.jsx)(Z,{language:"bash",markdown:h,bashLoading:p}),t[35]=p,t[36]=h,t[37]=l):l=t[37],t[38]!==u||t[39]!==p||t[40]!==g||t[41]!==i||t[42]!==l?(c=(0,n.jsx)(X,{title:g,isError:u,isPending:p,toolHeaderProps:i,children:l}),t[38]=u,t[39]=p,t[40]=g,t[41]=i,t[42]=l,t[43]=c):c=t[43],c}case"read_bash":{let e,s,i,l,c;t[44]!==a.content?(e=er(a.content),t[44]=a.content,t[45]=e):e=t[45];let{isError:d,content:u}=e,m=void 0===u,p=`Read logs from Bash session ${o.sessionId}`;t[46]!==r?(s=S(r),t[46]=r,t[47]=s):s=t[47],t[48]!==s?(i={leadingVisual:s},t[48]=s,t[49]=i):i=t[49];let g=u?`
${u}`:"";return t[50]!==m||t[51]!==g?(l=(0,n.jsx)(Z,{language:"bash",markdown:g,bashLoading:m}),t[50]=m,t[51]=g,t[52]=l):l=t[52],t[53]!==d||t[54]!==m||t[55]!==p||t[56]!==i||t[57]!==l?(c=(0,n.jsx)(X,{title:p,isError:d,isPending:m,toolHeaderProps:i,children:l}),t[53]=d,t[54]=m,t[55]=p,t[56]=i,t[57]=l,t[58]=c):c=t[58],c}case"stop_bash":{let e,s,i,l,c;t[59]!==a.content?(e=er(a.content),t[59]=a.content,t[60]=e):e=t[60];let{isError:d,content:u}=e,m=void 0===u,p=`Stop Bash session ${o.sessionId}`;t[61]!==r?(s=S(r),t[61]=r,t[62]=s):s=t[62],t[63]!==s?(i={leadingVisual:s},t[63]=s,t[64]=i):i=t[64];let g=u||"";return t[65]!==m||t[66]!==g?(l=(0,n.jsx)(Z,{language:"bash",markdown:g,bashLoading:m}),t[65]=m,t[66]=g,t[67]=l):l=t[67],t[68]!==d||t[69]!==m||t[70]!==p||t[71]!==i||t[72]!==l?(c=(0,n.jsx)(X,{title:p,isError:d,isPending:m,toolHeaderProps:i,children:l}),t[68]=d,t[69]=m,t[70]=p,t[71]=i,t[72]=l,t[73]=c):c=t[73],c}case"think":{let e,s,a,i,l;t[74]!==o.thought?(e=er(o.thought),t[74]=o.thought,t[75]=e):e=t[75];let{isError:c,content:d}=e;return t[76]!==r?(s=S(r),t[76]=r,t[77]=s):s=t[77],t[78]!==s?(a={leadingVisual:s},t[78]=s,t[79]=a):a=t[79],t[80]!==d?(i=(0,n.jsx)(Z,{language:"markdown",markdown:d}),t[80]=d,t[81]=i):i=t[81],t[82]!==c||t[83]!==a||t[84]!==i?(l=(0,n.jsx)(X,{title:"Thought",isError:c,toolHeaderProps:a,children:i}),t[82]=c,t[83]=a,t[84]=i,t[85]=l):l=t[85],l}case"run_custom_setup_step":{let e,s,i,l,c,d;t[86]!==a.content?(e=er(a.content),t[86]=a.content,t[87]=e):e=t[87];let{isError:u,content:m}=e;t[88]!==o.name?(s=o.name?.trim()?`Run "${o.name.trim()}" custom setup step`:"Run custom setup step",t[88]=o.name,t[89]=s):s=t[89];let p=s,g=void 0===m;return t[90]!==r?(i=S(r),t[90]=r,t[91]=i):i=t[91],t[92]!==i?(l={leadingVisual:i},t[92]=i,t[93]=l):l=t[93],t[94]!==g||t[95]!==m?(c=(0,n.jsx)(Z,{language:"console",markdown:m,bashLoading:g}),t[94]=g,t[95]=m,t[96]=c):c=t[96],t[97]!==u||t[98]!==g||t[99]!==l||t[100]!==c||t[101]!==p?(d=(0,n.jsx)(X,{title:p,isError:u,isPending:g,toolHeaderProps:l,children:c}),t[97]=u,t[98]=g,t[99]=l,t[100]=c,t[101]=p,t[102]=d):d=t[102],d}case"run_setup":{let e,s,i,l,c,d;t[103]!==a.content?(e=er(a.content),t[103]=a.content,t[104]=e):e=t[104];let{isError:u,content:m}=e;t[105]!==o.name?(s=o.name.trim(),t[105]=o.name,t[106]=s):s=t[106];let p=s,g=void 0===m;return t[107]!==r?(i=S(r),t[107]=r,t[108]=i):i=t[108],t[109]!==i?(l={leadingVisual:i},t[109]=i,t[110]=l):l=t[110],t[111]!==g||t[112]!==m?(c=(0,n.jsx)(Z,{language:"console",markdown:m,bashLoading:g}),t[111]=g,t[112]=m,t[113]=c):c=t[113],t[114]!==u||t[115]!==g||t[116]!==l||t[117]!==c||t[118]!==p?(d=(0,n.jsx)(X,{title:p,isError:u,isPending:g,toolHeaderProps:l,children:c}),t[114]=u,t[115]=g,t[116]=l,t[117]=c,t[118]=p,t[119]=d):d=t[119],d}case"str_replace_editor":case"create":case"str_replace":case"edit":case"view":{let e,s,i="edit"===r?"str_replace":o.command||r;t[120]!==o.path?(e=o.path?.split(".").pop()||"",t[120]=o.path,t[121]=e):e=t[121];let c=e,d="md"===c?"markdown":c||"text";if(t[122]!==i||t[123]!==a.content||t[124]!==l||t[125]!==d||t[126]!==r||t[127]!==o.insert_line||t[128]!==o.path||t[129]!==o.view_range){s=Symbol.for("react.early_return_sentinel");e:{let{isError:e,content:c}=er(a.content);switch(i){case"create":case"insert":case"view":case"undo_edit":{let a,l,u,m=function(e){if(e)try{let t=e.split(`
`),r=-1;for(let e=0;e<t.length;e++)if(t[e]?.startsWith("@@")){r=e+1;break}return t.slice(r).map(e=>{if(!(e.startsWith("+")||e.startsWith("-")))return e.startsWith(" ")?e.substring(1):e;{let t=e.substring(1);return t.startsWith(" ")?t.substring(1):t}}).filter(e=>null!==e).join(`
`).trim()}catch{return e}}(c),p=I(o.path),g=p+es(i,o.view_range,o.insert_line);t[131]!==i||t[132]!==o.path?(a=en({command:i,path:o.path}),t[131]=i,t[132]=o.path,t[133]=a):a=t[133],t[134]!==r?(l=S(r),t[134]=r,t[135]=l):l=t[135],t[136]!==l?(u={leadingVisual:l},t[136]=l,t[137]=u):u=t[137],s=(0,n.jsx)(X,{title:a,isError:e,path:p?g:void 0,toolHeaderProps:u,children:(0,n.jsx)(Z,{language:d,markdown:m})});break e}case"str_replace":{let a,d,u,m,p,g,h=c?.trim();if(h&&l){let a=F(h);if(a.length>0){let l,c,d,u,m,p;t[138]!==i||t[139]!==o.path?(l=en({command:i,path:o.path}),t[138]=i,t[139]=o.path,t[140]=l):l=t[140],t[141]!==o.path?(c=I(o.path),t[141]=o.path,t[142]=c):c=t[142],t[143]!==r?(d=S(r),t[143]=r,t[144]=d):d=t[144],t[145]!==d?(u={leadingVisual:d},t[145]=d,t[146]=u):u=t[146],t[147]!==a?(m=(0,n.jsx)(A.i,{diffLines:a,tabSize:4,className:T}),t[147]=a,t[148]=m):m=t[148],t[149]!==e||t[150]!==l||t[151]!==c||t[152]!==u||t[153]!==m?(p=(0,n.jsx)(X,{title:l,isError:e,path:c,toolHeaderProps:u,children:m}),t[149]=e,t[150]=l,t[151]=c,t[152]=u,t[153]=m,t[154]=p):p=t[154],s=p;break e}}t[155]!==i||t[156]!==o.path?(a=en({command:i,path:o.path}),t[155]=i,t[156]=o.path,t[157]=a):a=t[157],t[158]!==o.path?(d=I(o.path),t[158]=o.path,t[159]=d):d=t[159],t[160]!==r?(u=S(r),t[160]=r,t[161]=u):u=t[161],t[162]!==u?(m={leadingVisual:u},t[162]=u,t[163]=m):m=t[163],t[164]!==h?(p=(0,n.jsx)(Z,{language:"diff",markdown:h}),t[164]=h,t[165]=p):p=t[165],t[166]!==e||t[167]!==a||t[168]!==d||t[169]!==m||t[170]!==p?(g=(0,n.jsx)(X,{title:a,isError:e,path:d,toolHeaderProps:m,children:p}),t[166]=e,t[167]=a,t[168]=d,t[169]=m,t[170]=p,t[171]=g):g=t[171],s=g;break e}}}t[122]=i,t[123]=a.content,t[124]=l,t[125]=d,t[126]=r,t[127]=o.insert_line,t[128]=o.path,t[129]=o.view_range,t[130]=s}else s=t[130];if(s!==Symbol.for("react.early_return_sentinel"))return s;break}case"report_progress":{let e;t[172]!==a.content?(e=er(a.content),t[172]=a.content,t[173]=e):e=t[173];let{isError:s,content:i}=e;if("prDescription"in o){let e,a,l,c,d,u,m;t[174]!==o.prDescription?(e=er(o.prDescription),t[174]=o.prDescription,t[175]=e):e=t[175];let{isError:p,content:g}=e;t[176]!==o.commitMessage?(a=o.commitMessage.split(`
`)[0]||o.commitMessage,t[176]=o.commitMessage,t[177]=a):a=t[177];let h=a,f=`Progress update: ${h}`,y=p||s;return t[178]!==r?(l=S(r),t[178]=r,t[179]=l):l=t[179],t[180]!==l?(c={leadingVisual:l},t[180]=l,t[181]=c):c=t[181],t[182]!==g?(d=(0,n.jsx)(Z,{language:"markdown",markdown:g}),t[182]=g,t[183]=d):d=t[183],t[184]!==i?(u=(0,n.jsx)(ee,{type:"output",language:"json",markdown:i}),t[184]=i,t[185]=u):u=t[185],t[186]!==f||t[187]!==y||t[188]!==c||t[189]!==d||t[190]!==u?(m=(0,n.jsxs)(X,{title:f,isError:y,toolHeaderProps:c,children:[d,u]}),t[186]=f,t[187]=y,t[188]=c,t[189]=d,t[190]=u,t[191]=m):m=t[191],m}{let e,a,i,l,c=`Start next task: ${o.nextTask}`;return t[192]!==r?(e=S(r),t[192]=r,t[193]=e):e=t[193],t[194]!==e?(a={leadingVisual:e},t[194]=e,t[195]=a):a=t[195],t[196]!==o.tasksChecklist?(i=(0,n.jsx)(Z,{language:"markdown",markdown:o.tasksChecklist}),t[196]=o.tasksChecklist,t[197]=i):i=t[197],t[198]!==s||t[199]!==c||t[200]!==a||t[201]!==i?(l=(0,n.jsx)(X,{title:c,isError:s,toolHeaderProps:a,children:i}),t[198]=s,t[199]=c,t[200]=a,t[201]=i,t[202]=l):l=t[202],l}}case"commit_changes":{let e,s,i,l,c,d;t[203]!==a.content?(e=er(a.content),t[203]=a.content,t[204]=e):e=t[204];let{isError:u,content:m}=e;t[205]!==o.commitMessage?(s=o.commitMessage.split(`
`)[0]||o.commitMessage,t[205]=o.commitMessage,t[206]=s):s=t[206];let p=s,g=`Commit changes: ${p}`;return t[207]!==r?(i=S(r),t[207]=r,t[208]=i):i=t[208],t[209]!==i?(l={leadingVisual:i},t[209]=i,t[210]=l):l=t[210],t[211]!==m?(c=(0,n.jsx)(ee,{type:"output",language:"json",markdown:m}),t[211]=m,t[212]=c):c=t[212],t[213]!==u||t[214]!==g||t[215]!==l||t[216]!==c?(d=(0,n.jsx)(X,{title:g,isError:u,toolHeaderProps:l,children:c}),t[213]=u,t[214]=g,t[215]=l,t[216]=c,t[217]=d):d=t[217],d}case"reply_to_comment":{let e,s,a,i,l;t[218]!==o.reply?(e=er(o.reply),t[218]=o.reply,t[219]=e):e=t[219];let{isError:c,content:d}=e;return t[220]!==r?(s=S(r),t[220]=r,t[221]=s):s=t[221],t[222]!==s?(a={leadingVisual:s},t[222]=s,t[223]=a):a=t[223],t[224]!==d?(i=(0,n.jsx)(Z,{language:"markdown",markdown:d}),t[224]=d,t[225]=i):i=t[225],t[226]!==c||t[227]!==a||t[228]!==i?(l=(0,n.jsx)(X,{title:"Reply to comment",isError:c,toolHeaderProps:a,children:i}),t[226]=c,t[227]=a,t[228]=i,t[229]=l):l=t[229],l}case"async_bash":{let e,s,i,l,c,d=`$ ${o.command}`;t[230]!==a.content?(e=er(a.content),t[230]=a.content,t[231]=e):e=t[231];let{isError:u,content:m}=e,p=void 0===m,g=`Start or send input to long-running Bash session ${o.sessionId}`;t[232]!==r?(s=S(r),t[232]=r,t[233]=s):s=t[233],t[234]!==s?(i={leadingVisual:s},t[234]=s,t[235]=i):i=t[235];let h=`${d}${m?`
${m}`:""}`;return t[236]!==p||t[237]!==h?(l=(0,n.jsx)(Z,{language:"bash",markdown:h,bashLoading:p}),t[236]=p,t[237]=h,t[238]=l):l=t[238],t[239]!==u||t[240]!==p||t[241]!==g||t[242]!==i||t[243]!==l?(c=(0,n.jsx)(X,{title:g,isError:u,isPending:p,toolHeaderProps:i,children:l}),t[239]=u,t[240]=p,t[241]=g,t[242]=i,t[243]=l,t[244]=c):c=t[244],c}case"read_async_bash":{let e,s,i,l,c;t[245]!==a.content?(e=er(a.content),t[245]=a.content,t[246]=e):e=t[246];let{isError:d,content:u}=e,m=void 0===u,p=`View logs from long-running Bash session ${o.sessionId}`;t[247]!==r?(s=S(r),t[247]=r,t[248]=s):s=t[248],t[249]!==s?(i={leadingVisual:s},t[249]=s,t[250]=i):i=t[250];let g=u||"";return t[251]!==m||t[252]!==g?(l=(0,n.jsx)(Z,{language:"bash",markdown:g,bashLoading:m}),t[251]=m,t[252]=g,t[253]=l):l=t[253],t[254]!==d||t[255]!==m||t[256]!==p||t[257]!==i||t[258]!==l?(c=(0,n.jsx)(X,{title:p,isError:d,isPending:m,toolHeaderProps:i,children:l}),t[254]=d,t[255]=m,t[256]=p,t[257]=i,t[258]=l,t[259]=c):c=t[259],c}case"stop_async_bash":{let e,s,i,l,c;t[260]!==a.content?(e=er(a.content),t[260]=a.content,t[261]=e):e=t[261];let{isError:d,content:u}=e,m=void 0===u,p=`Stop long-running Bash session ${o.sessionId}`;t[262]!==r?(s=S(r),t[262]=r,t[263]=s):s=t[263],t[264]!==s?(i={leadingVisual:s},t[264]=s,t[265]=i):i=t[265];let g=u||"";return t[266]!==m||t[267]!==g?(l=(0,n.jsx)(Z,{language:"bash",markdown:g,bashLoading:m}),t[266]=m,t[267]=g,t[268]=l):l=t[268],t[269]!==d||t[270]!==m||t[271]!==p||t[272]!==i||t[273]!==l?(c=(0,n.jsx)(X,{title:p,isError:d,isPending:m,toolHeaderProps:i,children:l}),t[269]=d,t[270]=m,t[271]=p,t[272]=i,t[273]=l,t[274]=c):c=t[274],c}case"rg":case"grep":{let e,s,i,l,c,d;t[275]!==o?(e=o??{},t[275]=o,t[276]=e):e=t[276];let u=e;t[277]!==a.content?(s=er(a.content),t[277]=a.content,t[278]=s):s=t[278];let{isError:m,content:p}=s,g=void 0===p,h=u.pattern;return t[279]!==r?(i=S(r),t[279]=r,t[280]=i):i=t[280],t[281]!==i?(l={leadingVisual:i},t[281]=i,t[282]=l):l=t[282],t[283]!==p?(c=(0,n.jsx)(ea,{output:p}),t[283]=p,t[284]=c):c=t[284],t[285]!==m||t[286]!==g||t[287]!==h||t[288]!==l||t[289]!==c?(d=(0,n.jsx)(X,{title:"Search",isError:m,isPending:g,path:h,toolHeaderProps:l,children:c}),t[285]=m,t[286]=g,t[287]=h,t[288]=l,t[289]=c,t[290]=d):d=t[290],d}case"glob":{let e,s,i,l,c,d;t[291]!==o?(e=o??{},t[291]=o,t[292]=e):e=t[292];let u=e;t[293]!==a.content?(s=er(a.content),t[293]=a.content,t[294]=s):s=t[294];let{isError:m,content:p}=s,g=void 0===p,h=u.pattern;return t[295]!==r?(i=S(r),t[295]=r,t[296]=i):i=t[296],t[297]!==i?(l={leadingVisual:i},t[297]=i,t[298]=l):l=t[298],t[299]!==p?(c=(0,n.jsx)(eu,{output:p}),t[299]=p,t[300]=c):c=t[300],t[301]!==m||t[302]!==g||t[303]!==h||t[304]!==l||t[305]!==c?(d=(0,n.jsx)(X,{title:"Find files",isError:m,isPending:g,path:h,toolHeaderProps:l,children:c}),t[301]=m,t[302]=g,t[303]=h,t[304]=l,t[305]=c,t[306]=d):d=t[306],d}case"apply_patch":{let e,s;t[307]!==a.content?(e=er(a.content),t[307]=a.content,t[308]=e):e=t[308];let{isError:i,content:c}=e,d=("string"==typeof o?o:o?.arguments??o?.content??o?.patch)??"";if(t[309]!==i||t[310]!==l||t[311]!==r||t[312]!==c||t[313]!==d){let e,a,o,u,m=function(e){let t=e.split(/\r?\n/),r=[],n=!1,s=null,a=()=>{s&&(r.push(s),s=null)};for(let e of t){if(e.startsWith("*** Begin Patch")){n=!0;continue}if(n){if(e.startsWith("*** End Patch")){a();break}if(e.startsWith("*** Add File: ")){a(),s={type:"add",path:e.replace("*** Add File: ","").trim(),lines:[]};continue}if(e.startsWith("*** Delete File: ")){a(),s={type:"delete",path:e.replace("*** Delete File: ","").trim()};continue}if(e.startsWith("*** Update File: ")){a(),s={type:"update",path:e.replace("*** Update File: ","").trim(),lines:[]};continue}if(e.startsWith("*** Move to: ")&&s&&"update"===s.type){s.newPath=e.replace("*** Move to: ","").trim();continue}s&&"lines"in s&&s.lines.push(e)}}return r}(d);t[315]!==l||t[316]!==c?(e=e=>{let t=I(e.path)??"unknown file";switch(e.type){case"add":{let r=[`diff --git a/${t} b/${t}`,"new file mode 100644","--- /dev/null",`+++ b/${t}`,"@@ @@",...e.lines.map(z).join(`
`).split(`
`).map(Q)].join(`
`);if(l){let e=F(r).map(U);if(e.length>0)return(0,n.jsx)(A.i,{diffLines:e,tabSize:4,className:T})}return(0,n.jsx)(Z,{language:"diff",markdown:r})}case"delete":return(0,n.jsx)(Z,{language:"text",markdown:"File deleted"});case"update":{let t=function(e){if(!e.lines||0===e.lines.length)return"";let t=e.path,r=e.newPath||t,n=[];for(let s of(n.push(`diff --git a/${t} b/${r}`),n.push(`--- a/${t}`),n.push(`+++ b/${r}`),n.push("@@ @@"),e.lines))s.startsWith("@@")||(s.startsWith("+")||s.startsWith("-")||s.startsWith(" ")?n.push(s):n.push(` ${s}`));return n.join(`
`)}(e);if(t&&l){let e=F(t).map(O);if(e.length>0)return(0,n.jsx)(A.i,{diffLines:e,tabSize:4,className:T})}return(0,n.jsx)(Z,{language:"diff",markdown:t||c})}default:return(0,n.jsx)(Z,{language:"text",markdown:c})}},t[315]=l,t[316]=c,t[317]=e):e=t[317];let p=e,g=B,h=Y,f="Edit File(s)";if(1===m.length){let e=m[0];e&&(f=g(e)??"Edit File(s)",a=h(e))}let y=f,_=a;t[318]!==r?(o=S(r),t[318]=r,t[319]=o):o=t[319],t[320]!==o?(u={leadingVisual:o},t[320]=o,t[321]=u):u=t[321],s=(0,n.jsx)(X,{title:y,isError:i,path:_,toolHeaderProps:u,children:(()=>{if(0===m.length)return(0,n.jsx)(Z,{language:"text",markdown:d||c});if(1===m.length){let e=m[0];if(!e)return(0,n.jsx)(Z,{language:"text",markdown:d||c});let t="update"===e.type&&e.newPath;return(0,n.jsxs)("div",{className:"border-top px-3 py-2",children:[t&&(0,n.jsxs)("span",{className:"d-block fgColor-muted mb-2",style:{fontSize:"12px"},children:["Renamed from ",I(e.path)]}),p(e)]})}return m.map(e=>(0,n.jsxs)("div",{className:"border-top px-3 py-2",children:[(0,n.jsxs)(E.A,{as:"div",weight:"semibold",className:"mb-2",children:[g(e)," ",(0,n.jsx)("span",{className:"fgColor-muted",children:h(e)}),"update"===e.type&&e.newPath&&(0,n.jsxs)("span",{className:"fgColor-muted",style:{fontSize:"12px"},children:[" ","(from ",I(e.path),")"]})]}),p(e)]},`${e.type}-${e.path}-${e.newPath??""}`))})()}),t[309]=i,t[310]=l,t[311]=r,t[312]=c,t[313]=d,t[314]=s}else s=t[314];return s}case"code_review":{var c;let e,r,s,i;t[322]!==a.content?(e=er(a.content),t[322]=a.content,t[323]=e):e=t[323];let{isError:l,content:d}=e;if("prTitle"in(c=o)&&"prDescription"in c){let{prTitle:e,prDescription:t}=o;r=`#### ${e}

${t}`}else r="No code review details provided.";return r+=`

---

${d}`,t[324]!==r?(s=(0,n.jsx)(Z,{language:"markdown",markdown:r}),t[324]=r,t[325]=s):s=t[325],t[326]!==l||t[327]!==s?(i=(0,n.jsx)(X,{title:R,isError:l,children:s}),t[326]=l,t[327]=s,t[328]=i):i=t[328],i}case"propose_work":{let e,s,i,l,c;t[329]!==a.content?(e=er(a.content),t[329]=a.content,t[330]=e):e=t[330];let{isError:d}=e;return t[331]!==r?(s=S(r),t[331]=r,t[332]=s):s=t[332],t[333]!==d||t[334]!==s?(i=(0,n.jsx)(_,{leadingVisual:s,title:"Propose Work",isCollapsed:!1,isPending:!1,isError:d}),t[333]=d,t[334]=s,t[335]=i):i=t[335],t[336]!==o.workDescription||t[337]!==o.workTitle||t[338]!==o.workType?(l=(0,n.jsx)(W,{title:o.workTitle,description:o.workDescription,type:o.workType}),t[336]=o.workDescription,t[337]=o.workTitle,t[338]=o.workType,t[339]=l):l=t[339],t[340]!==i||t[341]!==l?(c=(0,n.jsxs)("div",{children:[i,l]}),t[340]=i,t[341]=l,t[342]=c):c=t[342],c}default:{let e,s,l,c,d,u,m,p,g;if(t[343]!==a.content){let{isError:r,content:n}=er(a.content);e=r,s=K(n),t[343]=a.content,t[344]=e,t[345]=s}else e=t[344],s=t[345];let{language:h,output:f}=s;t[346]!==o?(l=o??{},t[346]=o,t[347]=l):l=t[347];let y=l;t[348]!==y?(c=0===Object.keys(y).length?null:JSON.stringify(y,null,2),t[348]=y,t[349]=c):c=t[349];let _=c,b=i?.[r]||r,w=V[r]||`Call to ${b}`;return t[350]!==r?(d=S(r),t[350]=r,t[351]=d):d=t[351],t[352]!==d?(u={leadingVisual:d},t[352]=d,t[353]=u):u=t[353],t[354]!==_?(m=_&&(0,n.jsx)(ee,{type:"input",language:"json",markdown:_}),t[354]=_,t[355]=m):m=t[355],t[356]!==f||t[357]!==h?(p=(0,n.jsx)(Z,{language:h,markdown:f}),t[356]=f,t[357]=h,t[358]=p):p=t[358],t[359]!==e||t[360]!==u||t[361]!==m||t[362]!==p||t[363]!==w?(g=(0,n.jsxs)(X,{title:w,isError:e,toolHeaderProps:u,children:[m,p]}),t[359]=e,t[360]=u,t[361]=m,t[362]=p,t[363]=w,t[364]=g):g=t[364],g}}}function Y(e){if(!e)return;let t=I(e.path);return"update"===e.type&&e.newPath?I(e.newPath):t}function B(e){if(e)switch(e.type){case"add":return"Create";case"delete":return"Delete";case"update":return"Edit";default:return`Apply patch (${e.type??"unknown"})`}}function O(e){return{...e,left:null,right:null}}function U(e){return{...e,left:null,right:null}}function Q(e){return`+${e}`}function z(e){return e.startsWith("+")?e.slice(1):e}let K=e=>{if(void 0===e)return{language:"text",output:e};try{let t=JSON.parse(e),r=JSON.stringify(t,null,2);return{language:"json",output:r}}catch{return{language:"text",output:e}}};function J(e){return"markdown"!==e&&"text"!==e&&""!==e}function X({title:e,isError:t=!1,isPending:r=!1,path:s,toolHeaderProps:a,children:o,isOpenOverride:i}){let{variant:l}=(0,h._$)(),[d,u]=(0,w.useState)(i??!1),m=(0,w.useRef)(!1),p=(0,w.useRef)(i);(0,w.useEffect)(()=>{p.current!==i&&(p.current=i,m.current=!1,void 0!==i&&u(i))},[i]);let f=(0,w.useRef)({}),y=(0,w.useRef)(null),b=(0,w.useRef)(null);b.current=e=>{if(e.detail.excludeInstance!==f.current&&y.current){let t=e.detail.expand;y.current.open=t,u(t)}},(0,w.useEffect)(()=>{let e=e=>{b.current?.(e)};return document.addEventListener("tool-global-toggle",e),()=>{document.removeEventListener("tool-global-toggle",e)}},[]),(0,w.useEffect)(()=>{let e=y.current;if(!e)return;void 0===i&&u(e.hasAttribute("open"));let t=new MutationObserver(()=>{u(e.hasAttribute("open"))});return t.observe(e,{attributes:!0,attributeFilter:["open"]}),()=>t.disconnect()},[i]);let x=(0,c.G7)("mission_control_use_tool_header_icons");return(0,n.jsxs)("details",{ref:y,open:d,onToggle:e=>{m.current=!0,u(e.currentTarget.open)},className:(0,g.$)("Tool-module__detailsContainer--QPsTQ",{"Tool-module__detailsContainerDefault--M2g13":"default"===l}),children:[(0,n.jsx)(_,{leadingVisual:x?a?.leadingVisual:void 0,title:e,path:s,isCollapsed:!d,isPending:r,isError:t,onModifierClick:e=>{m.current=!0,y.current&&(y.current.open=e),u(e);let t=new CustomEvent("tool-global-toggle",{detail:{expand:e,excludeInstance:f.current}});document.dispatchEvent(t)}}),"chat"===l?o:(0,n.jsx)("div",{className:"default"===l?"border-top Tool-module__toolContent--Rlnrn":"Tool-module__toolContentMissionControl--P3Bgh",children:o})]})}function Z(e){let t,r=(0,s.c)(2);if(r[0]!==e){let{language:s,markdown:o,...i}=e,{markdown:l}=M(o);t=void 0===o?(0,n.jsx)(et,{}):(0,n.jsx)(a.To,{markdown:J(s)?q({language:s,markdown:l||""}):l||"",extensions:[C({...i})],className:(0,g.$)(!J(s)&&"p-3")}),r[0]=e,r[1]=t}else t=r[1];return t}function ee(e){let t,r=(0,s.c)(6),{type:o,language:i,markdown:l}=e;if(r[0]!==i||r[1]!==l||r[2]!==o){let e,{markdown:s}=M(l),c="input"===o?"Input":"Output";r[4]!==c?(e=(0,n.jsx)(E.A,{size:"small",weight:"medium",className:"fgColor-muted",children:c}),r[4]=c,r[5]=e):e=r[5],t=(0,n.jsxs)(P.B,{direction:"vertical",padding:"normal",gap:"condensed",children:[e,void 0===l?(0,n.jsx)(et,{}):(0,n.jsx)(a.To,{className:(0,g.$)(!J&&"p-3","border rounded bgColor-default overflow-hidden"),markdown:q({language:i,markdown:s||""}),extensions:[C()]})]}),r[0]=i,r[1]=l,r[2]=o,r[3]=t}else t=r[3];return t}function et(e){let t,r=(0,s.c)(3),{lines:a,maxWidth:o}=e,i=void 0===a?3:a,l=void 0===o?"45ch":o;return r[0]!==i||r[1]!==l?(t=(0,n.jsx)("div",{className:"py-3 px-4",children:(0,n.jsx)($.r,{lines:i,maxWidth:l})}),r[0]=i,r[1]=l,r[2]=t):t=r[2],t}function er(e){if(!e)return{isError:!1,content:e};let t=e.match(/<error>(.*?)<\/error>/s);return t&&void 0!==t[1]?{isError:!0,content:t[1]}:{isError:!1,content:e}}let en=({command:e,path:t})=>{let r=!!I(t)?.length;switch(e){case"create":return"Create";case"insert":return"Insert lines at";case"view":return`View${r?"":" repository"}`;case"str_replace":return"Edit";case"undo_edit":return"Undo edit";default:return e||"Unknown"}},es=(e,t,r)=>"view"===e&&t?`:${t[0]}-${t[1]}`:"insert"===e&&void 0!==r?`:${r}`:"";function ea(e){let t,r,a,o,i=(0,s.c)(18),{output:l}=e;if(!l){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(et,{}),i[0]=e):e=i[0],e}if("No matches found."===l.trim()||"No matches found"===l.trim()){let e;return i[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"p-3",children:(0,n.jsx)("span",{className:"fgColor-muted",children:"No matches found"})}),i[1]=e):e=i[1],e}if(i[2]!==l){a=Symbol.for("react.early_return_sentinel");t:{let e=l.split(`
`).filter(ed);if(e.length>0&&e.every(ec)){let t,r,s,o,l=[];for(let t of e){let e=t.match(/^([^:]+):(\d+)$/);e&&l.push({file:e[1]??"",count:parseInt(e[2]??"0",10)})}i[6]===Symbol.for("react.memo_cache_sentinel")?(t={fontSize:"12px"},i[6]=t):t=i[6];let c=1===l.length?"file":"files";i[7]!==c?(r=(0,n.jsx)("span",{children:c}),i[7]=c,i[8]=r):r=i[8],i[9]!==l||i[10]!==r?(s=(0,n.jsxs)("span",{className:"fgColor-muted mb-2 d-block",style:t,children:[l.length," ",r," with matches"]}),i[9]=l,i[10]=r,i[11]=s):s=i[11];let d=(0,n.jsx)("div",{className:"border rounded bgColor-default overflow-hidden",children:l.map(el)});i[12]!==s||i[13]!==d?(o=(0,n.jsxs)("div",{className:"p-3",children:[s,d]}),i[12]=s,i[13]=d,i[14]=o):o=i[14],a=o;break t}let s=new Map,o="";for(let t of e){if("--"===t)continue;let e=t.match(/^(\d+):(.*)$/),r=t.match(/^(\d+)-(.*)$/),n=t.match(/^([^:]+):(\d+):(.*)$/),a=t.match(/^([^-]+)-(\d+)-(.*)$/);n?(o=n[1]??"",s.has(o)||s.set(o,[]),s.get(o)?.push({lineNumber:n[2],content:n[3]??"",isContext:!1})):a?(o=a[1]??"",s.has(o)||s.set(o,[]),s.get(o)?.push({lineNumber:a[2],content:a[3]??"",isContext:!0})):e&&o?s.get(o)?.push({lineNumber:e[1],content:e[2]??"",isContext:!1}):r&&o?s.get(o)?.push({lineNumber:r[1],content:r[2]??"",isContext:!0}):(o=t,s.has(o)||s.set(o,[]))}t="p-3",r=s.size>0?Array.from(s.entries()).map(eo):(0,n.jsx)("span",{className:"fgColor-muted",children:"No matches found"})}i[2]=l,i[3]=t,i[4]=r,i[5]=a}else t=i[3],r=i[4],a=i[5];return a!==Symbol.for("react.early_return_sentinel")?a:(i[15]!==t||i[16]!==r?(o=(0,n.jsx)("div",{className:t,children:r}),i[15]=t,i[16]=r,i[17]=o):o=i[17],o)}function eo(e){let[t,r]=e;return(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)(E.A,{as:"div",weight:"semibold",className:"mb-2 fgColor-accent",children:I(t)}),(0,n.jsx)("div",{className:"border rounded bgColor-default overflow-hidden",children:r.map(ei)})]},t)}function ei(e,t){return(0,n.jsxs)("div",{className:(0,g.$)("px-3 py-1",e.isContext?"fgColor-muted":"",t>0&&"border-top"),style:{fontFamily:"var(--fontStack-monospace)",fontSize:"12px"},children:[e.lineNumber&&(0,n.jsxs)("span",{className:"fgColor-muted",style:{minWidth:"3em",display:"inline-block"},children:[e.lineNumber,":"]}),(0,n.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:e.content})]},t)}function el(e,t){let{file:r,count:s}=e;return(0,n.jsxs)("div",{className:(0,g.$)("px-3 py-2 d-flex",t>0&&"border-top"),style:{fontFamily:"var(--fontStack-monospace)",fontSize:"12px"},children:[(0,n.jsx)("span",{className:"flex-1",children:I(r)}),(0,n.jsxs)("span",{className:"fgColor-muted ml-2",children:[s," ",(0,n.jsx)("span",{children:1===s?"match":"matches"})]})]},t)}function ec(e){return null!==e.match(/^([^:]+):(\d+)$/)}function ed(e){return e.trim()}function eu(e){let t,r,a,o,i,l,c,d=(0,s.c)(18),{output:u}=e;if(!u){let e;return d[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(et,{}),d[0]=e):e=d[0],e}if(d[1]!==u){i=Symbol.for("react.early_return_sentinel");t:{let e,s,l=u.split(`
`).filter(ep);if(0===l.length){let e;d[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"p-3",children:(0,n.jsx)("span",{className:"fgColor-muted",children:"No files found"})}),d[7]=e):e=d[7],i=e;break t}a="p-3",d[8]===Symbol.for("react.memo_cache_sentinel")?(e={fontSize:"12px"},d[8]=e):e=d[8];let c=1===l.length?"file":"files";d[9]!==c?(s=(0,n.jsx)("span",{children:c}),d[9]=c,d[10]=s):s=d[10],o=(0,n.jsxs)("span",{className:"fgColor-muted mb-2 d-block",style:e,children:[l.length," ",s," found"]}),t="border rounded bgColor-default overflow-hidden",r=l.map(em)}d[1]=u,d[2]=t,d[3]=r,d[4]=a,d[5]=o,d[6]=i}else t=d[2],r=d[3],a=d[4],o=d[5],i=d[6];return i!==Symbol.for("react.early_return_sentinel")?i:(d[11]!==t||d[12]!==r?(l=(0,n.jsx)("div",{className:t,children:r}),d[11]=t,d[12]=r,d[13]=l):l=d[13],d[14]!==a||d[15]!==o||d[16]!==l?(c=(0,n.jsxs)("div",{className:a,children:[o,l]}),d[14]=a,d[15]=o,d[16]=l,d[17]=c):c=d[17],c)}function em(e,t){return(0,n.jsx)("div",{className:(0,g.$)("px-3 py-2",t>0&&"border-top"),style:{fontFamily:"var(--fontStack-monospace)",fontSize:"12px"},children:I(e)},t)}function ep(e){return e.trim()}try{D.displayName||(D.displayName="ToolRenderer")}catch{}try{X.displayName||(X.displayName="Tool")}catch{}try{Z.displayName||(Z.displayName="ToolPrimaryContent")}catch{}try{ee.displayName||(ee.displayName="ToolSecondaryContent")}catch{}try{et.displayName||(et.displayName="MarkdownLoading")}catch{}try{ea.displayName||(ea.displayName="GrepOutput")}catch{}try{eu.displayName||(eu.displayName="GlobOutput")}catch{}},81457:(e,t,r)=>{r.d(t,{l:()=>c});var n=r(74848),s=r(21728),a=r(77430),o=r(74807),i=r(86101),l=r(69599);function c(e){let t,r=(0,s.c)(8),{size:c,animationType:d,loopAnimation:u,agentId:m}=e,p=void 0===c?32:c,g=void 0===d?"static":d,h=void 0!==u&&u,f=(0,l.G7)("copilot_3p_agent_info"),{data:y}=(0,i.B)(m??null),_=f?y?.avatar_url:void 0,b=y?.display_name||"Agent";if("copilot"===b.toLowerCase()||!_){let e;return r[0]!==g||r[1]!==h||r[2]!==p?(e=(0,n.jsx)(o.N,{size:p,animationType:g,loopAnimation:h}),r[0]=g,r[1]=h,r[2]=p,r[3]=e):e=r[3],e}return r[4]!==_||r[5]!==b||r[6]!==p?(t=(0,n.jsx)(a.r,{src:_,size:p,alt:b}),r[4]=_,r[5]=b,r[6]=p,r[7]=t):t=r[7],t}try{c.displayName||(c.displayName="AgentAvatar")}catch{}},87525:(e,t,r)=>{r.d(t,{U:()=>es});var n=r(74848),s=r(21728),a=r(4817),o=r(11680),i=r(96540),l=r(67154),c=r(98747),d=r(42455),u=r(44296),m=r(51120),p=r(97665),g=r(58612),h=r(69599);function f(e){return e.id.startsWith("optimistic-")}var y=r(72931);let _={[l.Yj.Completed]:"success",[l.Yj.InProgress]:"pending",[l.Yj.Idle]:"pending",[l.Yj.WaitingForUser]:"pending",[l.Yj.Queued]:"pending",[l.Yj.TimedOut]:"failure",[l.Yj.Failed]:"failure",[l.Yj.Cancelled]:"failure"};function b(){(0,y.gd)()}var w=r(75709),x=r(86101);function j(e){let t,r,a=(0,s.c)(6),{errorMessage:i,workflowRunLink:l}=e,{session:c}=(0,u.Lg)(),{data:d}=(0,x.B)(c.agent_id),m=i||"An unexpected error occurred. For more details, see the detailed logs in GitHub Actions.",p=`${d?.display_name||"Agent"} stopped work due to an error`;return a[0]!==l?(t=l&&(0,n.jsx)(o.l.PrimaryAction,{as:"a",href:l,children:"View detailed logs"}),a[0]=l,a[1]=t):t=a[1],a[2]!==m||a[3]!==p||a[4]!==t?(r=(0,n.jsx)(o.l,{"aria-label":"Session Error",title:p,description:m,variant:"critical",primaryAction:t}),a[2]=m,a[3]=p,a[4]=t,a[5]=r):r=a[5],r}try{j.displayName||(j.displayName="SessionFailedBanner")}catch{}var v=r(27566),N=r(74807),k=r(81457),C=r(45244),S=r(46251);let E=["Spinning up dev environment\u2026","Fueling the runtime engines\u2026","Clearing the airspace for MCP traffic\u2026","Cabin pressure stable. Almost ready\u2026","Reticulating goggles...","Calibrating flux capacitor...","Adjusting seatbelt\u2026","Waiting for clearance from GitHub tower\u2026","Final systems check, standing by\u2026","Takeoff soon\u2122\u2026"];function P(e){let t,r,a,o=(0,s.c)(5),{agentId:l}=e,[c,d]=(0,i.useState)(0),u=(0,i.useRef)(null);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>(u.current?(clearInterval(u.current),u.current=null):u.current=setInterval(()=>{d($)},7e3),()=>{u.current&&(clearInterval(u.current),u.current=null)}),r=[],o[0]=t,o[1]=r):(t=o[0],r=o[1]),(0,i.useEffect)(t,r);let m=E[c]||"Loading\u2026";return o[2]!==l||o[3]!==m?(a=(0,n.jsx)(I,{message:m,agentId:l}),o[2]=l,o[3]=m,o[4]=a):a=o[4],a}function $(e){return e<E.length-1?e+1:e}function I(e){let t,r,a,o=(0,s.c)(7),{message:i,agentId:l}=e;return o[0]!==l?(t=(0,n.jsx)(k.l,{animationType:N.L.Thinking,loopAnimation:!0,agentId:l}),o[0]=l,o[1]=t):t=o[1],o[2]!==i?(r=(0,n.jsx)(C.b,{className:"color-fg-muted",children:i}),o[2]=i,o[3]=r):r=o[3],o[4]!==t||o[5]!==r?(a=(0,n.jsxs)(S.B,{direction:"horizontal",padding:"none",align:"center",justify:"start",gap:"condensed",children:[t,r]}),o[4]=t,o[5]=r,o[6]=a):a=o[6],a}try{P.displayName||(P.displayName="BootingUpMessage")}catch{}try{I.displayName||(I.displayName="LoadingMessage")}catch{}var T=r(47801),L=r.n(T),H=r(8394),F=r.n(H);function A(e,t){if(Array.isArray(e)&&Array.isArray(t)&&e[0]?.hasOwnProperty("delta")&&t[0]?.hasOwnProperty("delta")){let r=[],n=new Map;for(let s of e.concat(t)){let e=s.delta.tool_calls?.[0];if(!e||!e.id){r.push(s);continue}let t=s,a=n.get(e.id);a&&(t=L()({},a,s)),n.set(e.id,t)}return r.concat(Array.from(n.values()))}}var G=r(38621),W=r(26108),q=r(83494);function M(e){let t,r,a,o,l,c,d,u,m,p,g=(0,s.c)(24),{onSubmit:h,error:f}=e,[y,_]=(0,i.useState)(""),b=(0,i.useRef)(null);g[0]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{_(e.target.value);let t=e.target;t.style.height="auto",t.style.height=`${Math.min(t.scrollHeight,256)}px`},g[0]=t):t=g[0];let w=t;g[1]!==h||g[2]!==y?(r=()=>{y.trim()&&(h(y),_(""),b.current&&(b.current.style.height="auto"))},g[1]=h,g[2]=y,g[3]=r):r=g[3];let x=r;g[4]!==x?(a={"copilot-chat:send-message":x},g[4]=x,g[5]=a):a=g[5],g[6]!==y?(o=(0,n.jsx)("textarea",{ref:b,className:"SteeringCommandInput-module__steeringCommandInputTextarea--jpLKJ",value:y,onChange:w,placeholder:"What would you like to change?",autoComplete:"off",autoCorrect:"off",spellCheck:"false",rows:1}),g[6]=y,g[7]=o):o=g[7],g[8]!==y?(l=y.trim(),g[8]=y,g[9]=l):l=g[9];let j=!l;return g[10]!==x||g[11]!==j?(c=(0,n.jsx)(W.K,{className:"SteeringCommandInput-module__steeringCommandInputSubmitButton--PZsnB",variant:"invisible",size:"small",icon:G.PaperAirplaneIcon,"aria-label":"Send",disabled:j,onClick:x}),g[10]=x,g[11]=j,g[12]=c):c=g[12],g[13]!==o||g[14]!==c?(d=(0,n.jsxs)("div",{className:"SteeringCommandInput-module__steeringCommandInputWrapper--iM8oN",children:[o,c]}),g[13]=o,g[14]=c,g[15]=d):d=g[15],g[16]!==f?(u=f&&(0,n.jsxs)("div",{className:"SteeringCommandInput-module__errorMessage--N97CH",children:[(0,n.jsx)(G.AlertIcon,{className:"SteeringCommandInput-module__errorIcon--a2BvJ"}),(0,n.jsx)("span",{children:f})]}),g[16]=f,g[17]=u):u=g[17],g[18]!==d||g[19]!==u?(m=(0,n.jsxs)("div",{className:"SteeringCommandInput-module__steeringCommandInputContainer--Mez66",children:[d,u]}),g[18]=d,g[19]=u,g[20]=m):m=g[20],g[21]!==m||g[22]!==a?(p=(0,n.jsx)(q.tL,{commands:a,children:m}),g[21]=m,g[22]=a,g[23]=p):p=g[23],p}try{M.displayName||(M.displayName="SteeringCommandInput")}catch{}function R(e){let t,r=(0,s.c)(3),{onSubmit:a,error:o}=e;return r[0]!==o||r[1]!==a?(t=(0,n.jsx)("div",{className:"StickySteeringCommand-module__stickyContainer--HSHC7",children:(0,n.jsx)(M,{onSubmit:a,error:o})}),r[0]=o,r[1]=a,r[2]=t):t=r[2],t}try{R.displayName||(R.displayName="StickySteeringCommand")}catch{}let V="UserCommand-module__containerMuted--d2LWH";var D=r(77430),Y=r(55127),B=r.n(Y);function O({sessionIsActive:e,commandState:t,inLogs:r}){if(r)return"in_logs";let n=["queued","in_progress","completed"];if(!e&&n.includes(t))return"dismissed";if(n.includes(t))return"queued";if(["failed","dismissed"].includes(t))return t;throw Error(`Unexpected command state: ${t}`)}function U(e){let{rawCommands:t,commandData:r}=e,s=[],{session:a}=(0,u.Lg)(),o=(0,l.v5)(a);for(let e of t){let t,n=function(e,t){let r=e.find(e=>`command-${e.external_id}`===t.source);return r&&"string"==typeof t.content?r:null}(r,e);n&&(t={state:O({sessionIsActive:o,commandState:n.state,inLogs:!0}),content:n.content},s.push(t))}return(0,n.jsx)(z,{commands:s})}function Q(e){let{commands:t}=e,r=[],{session:s}=(0,u.Lg)(),a=(0,l.v5)(s);for(let e of t){let t={state:O({sessionIsActive:a,commandState:e.state,inLogs:!1}),content:e.content};r.push(t)}return(0,n.jsx)(z,{commands:r})}function z(e){let t,r=(0,s.c)(2),{commands:a}=e;if(r[0]!==a){let e=[];for(let t of a){let r=e[e.length-1];r?.state===t.state?r.commands.push(t.content):e.push({state:t.state,commands:[t.content]})}t=(0,n.jsx)(n.Fragment,{children:e.map(K)}),r[0]=a,r[1]=t}else t=r[1];return t}function K(e,t){return(0,n.jsx)(J,{contents:e.commands,state:e.state},t)}function J(e){let t,r,a,o,i=(0,s.c)(11),{contents:l,state:c}=e;i[0]!==l.length||i[1]!==c?(t=function({state:e,count:t}){return({queued:{actionText:"Queued for Copilot",containerStateClass:V},failed:{actionText:`Unable to submit ${B()("message",t)}`,containerStateClass:V},in_logs:{},dismissed:{actionText:`Copilot finished the session before it could pick up ${B()("this",t)} ${B()("message",t)}`,containerStateClass:V}})[e]}({state:c,count:l.length}),i[0]=l.length,i[1]=c,i[2]=t):t=i[2];let d=t,u=d.actionText,m=d.containerStateClass,p=`mb-2 UserCommand-module__commandContainer--CDd84 ${m??""}`;return i[3]!==u?(r=u&&(0,n.jsx)("div",{className:"mb-2 UserCommand-module__actionText--i05T_",children:u}),i[3]=u,i[4]=r):r=i[4],i[5]!==l?(a=l.map(X),i[5]=l,i[6]=a):a=i[6],i[7]!==p||i[8]!==r||i[9]!==a?(o=(0,n.jsx)(S.B,{children:(0,n.jsxs)("div",{className:p,children:[r,a]})}),i[7]=p,i[8]=r,i[9]=a,i[10]=o):o=i[10],o}function X(e,t){return(0,n.jsx)(Z,{content:e},t)}function Z(e){let t,r,a,o=(0,s.c)(8),{content:i}=e,{sessionOwner:l}=(0,u.Lg)(),c=l?.login??"user";return o[0]!==i?(t=(0,n.jsx)("span",{className:"p-2 UserCommand-module__commandBox--VV0Is",children:i}),o[0]=i,o[1]=t):t=o[1],o[2]!==c||o[3]!==l?(r=l?.primaryAvatarUrl&&(0,n.jsx)(D.r,{src:l.primaryAvatarUrl,alt:`${c}'s avatar`,size:28,className:"ml-1"}),o[2]=c,o[3]=l,o[4]=r):r=o[4],o[5]!==t||o[6]!==r?(a=(0,n.jsx)("div",{className:"mb-2",children:(0,n.jsxs)(S.B,{align:"center",direction:"horizontal",gap:"condensed",children:[t,r]})}),o[5]=t,o[6]=r,o[7]=a):a=o[7],a}try{U.displayName||(U.displayName="LogCommands")}catch{}try{Q.displayName||(Q.displayName="ChatCommands")}catch{}try{z.displayName||(z.displayName="ProcessedUserCommands")}catch{}try{J.displayName||(J.displayName="UserCommandGroup")}catch{}try{Z.displayName||(Z.displayName="UserCommand")}catch{}var ee=r(35898),et=r(16425),er=r(91747);let en="SessionLogs-module__markdownWrapper--sELfE";function es(e){var t;let r,a,w,N,k,C,S,E,$,T,L,H,G,W,q,M,V,D,Y=(0,s.c)(66),{logsPollingInterval:B,nwo:O,batchCompletedSessions:U,currentUser:z,onLogsLoadingChange:K}=e,{session:J,setMcpToolNameMappings:X}=(0,u.Lg)(),Z=(0,ee.i)(),en=z?.id===J.user_id||Z?.id===J.user_id,{variant:es}=(0,et._$)(),eo=(0,er.u)("copilot_swe_agent_progress_commands"),{data:ei}=(0,x.B)(J.agent_id);Y[0]!==B?(r={pollingInterval:B},Y[0]=B,Y[1]=r):r=Y[1];let{data:el}=function(e){let t,r,n,a,o,i,c,y,_,b,w=(0,s.c)(28),{pollingInterval:x}=e,{session:j}=(0,u.Lg)(),v=j.id,N=(0,p.jE)();w[0]!==v?(t=["agent-session-commands",v],w[0]=v,w[1]=t):t=w[1];let k=t;w[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,h.G7)("copilot_agent_sessions_alive_updates"),w[2]=r):r=w[2];let C=r;w[3]!==v||w[4]!==N?(n=()=>{N.invalidateQueries({queryKey:["agent-session-commands",v]})},w[3]=v,w[4]=N,w[5]=n):n=w[5];let S=n;w[6]!==S?(a={onEvent:S,enableCreateEvents:!0,enableUpdateEvents:!0,enableLogUpdates:!1,enabled:C},w[6]=S,w[7]=a):a=w[7],(0,g.N)(a),w[8]!==v||w[9]!==N?(o=async e=>{let{queryKey:t}=e,r=await (0,m.I)({path:`/agents/sessions/${v}/commands?sort=created_at,asc`,method:"GET"});if(!r.ok)throw Error(`Failed to fetch commands: ${r.statusText}`);let n=await r.json(),s=N.getQueryData(t);if(s){let e=s.commands.filter(f);return{commands:[...n.commands,...e]}}return n},w[8]=v,w[9]=N,w[10]=o):o=w[10],w[11]!==x||w[12]!==j.state?(i=()=>!C&&("in_progress"===j.state||"queued"===j.state)&&x,w[11]=x,w[12]=j.state,w[13]=i):i=w[13],w[14]!==j?(c=(0,l.VY)(j),w[14]=j,w[15]=c):c=w[15];let E=!c;w[16]!==k||w[17]!==o||w[18]!==i||w[19]!==E?(y={queryKey:k,queryFn:o,refetchInterval:i,enabled:E},w[16]=k,w[17]=o,w[18]=i,w[19]=E,w[20]=y):y=w[20];let P=(0,d.b)(y);return w[21]!==P.data?.commands?(_=P.data?.commands??[],w[21]=P.data?.commands,w[22]=_):_=w[22],w[23]!==P.error||w[24]!==P.isError||w[25]!==P.isLoading||w[26]!==_?(b={data:_,isLoading:P.isLoading,isError:P.isError,error:P.error},w[23]=P.error,w[24]=P.isError,w[25]=P.isLoading,w[26]=_,w[27]=b):b=w[27],b}(r),[ec,ed]=(0,i.useState)(null);Y[2]!==J.id?(a=async e=>{try{ed(null);let t=await (0,m.I)({path:`/agents/sessions/${J.id}/commands`,method:"POST",body:{content:e}});if(!t.ok){let e=`Failed to create command: ${t.statusText}`;ed(e);return}}catch{ed("Failed to submit command. Please try again.")}},Y[2]=J.id,Y[3]=a):a=Y[3];let em=a;Y[4]!==U||Y[5]!==en||Y[6]!==B?(w={logsPollingInterval:B,batchCompletedSessions:U,currentUserIsSessionOwner:en},Y[4]=U,Y[5]=en,Y[6]=B,Y[7]=w):w=Y[7];let{data:eg,isLoading:eh,showPollingError:ef}=(0,c.jg)(w);t=J.state,(D=(0,s.c)(3))[0]!==t?(M=()=>{let e=_[t];return(0,y.iD)(e),b},V=[t],D[0]=t,D[1]=M,D[2]=V):(M=D[1],V=D[2]),(0,i.useEffect)(M,V);let ey=function(e){if(!e)return[];let t=new Map;for(let r of e){let e=r,n=t.get(r.id);n&&(e=F()({},n,r,A)),t.set(r.id,e)}return[...t.values()]}((eg??[]).filter(l.Qx));Y[8]!==eg?(N=function(e){if(!e)return[];let t=new Map,r=null,n=[];for(let s of e)if((0,l.Qx)(s)){let e=s,a=t.get(s.id);a&&(e=F()({},a,s,A)),t.set(s.id,e),r=null,n=[]}else if((0,l.JK)(s)){let e=null,a=[];r&&n.length>0?(e=r,a=[...n,s]):(e=s.source,a=[s]),t.set(e,a),r=e,n=a}return[...t.values()]}(eg),Y[8]=eg,Y[9]=N):N=Y[9];let e_=N;if(Y[10]!==eh||Y[11]!==K?(k=()=>{K?.(!!eh)},C=[eh,K],Y[10]=eh,Y[11]=K,Y[12]=k,Y[13]=C):(k=Y[12],C=Y[13]),(0,i.useEffect)(k,C),Y[14]!==e_||Y[15]!==X?(S=()=>{let e=function(e){let t={};for(let r of e)if((0,l.Qx)(r))for(let e of r.choices)for(let r of e.delta.tool_calls??[]){let e=r?.function;if(e&&"run_setup"===e.name&&"string"==typeof e.arguments)try{let r=JSON.parse(e.arguments.replace(/\n/g,"\\n"));r.details?.type==="mcp_setup"&&"object"==typeof r.details.toolNamesToDisplayNames&&Object.assign(t,r.details.toolNamesToDisplayNames??{})}catch{}}return t}(e_);Object.keys(e).length>0&&X(t=>({...t,...e}))},E=[e_,X],Y[14]=e_,Y[15]=X,Y[16]=S,Y[17]=E):(S=Y[16],E=Y[17]),(0,i.useEffect)(S,E),"queued"===J.state){let e,t,r,s;return Y[18]!==J.agent_id?(e=(0,n.jsx)(P,{agentId:J.agent_id}),Y[18]=J.agent_id,Y[19]=e):e=Y[19],Y[20]!==el||Y[21]!==eg?(t=ep(el,eg),Y[20]=el,Y[21]=eg,Y[22]=t):t=Y[22],Y[23]!==t?(r=(0,n.jsx)(Q,{commands:t}),Y[23]=t,Y[24]=r):r=Y[24],Y[25]!==r||Y[26]!==e?(s=(0,n.jsxs)(n.Fragment,{children:[e,r]}),Y[25]=r,Y[26]=e,Y[27]=s):s=Y[27],s}Y[28]!==O||Y[29]!==J.workflow_run_id?($=J.workflow_run_id?(0,v.A)(O??null,J.workflow_run_id):void 0,Y[28]=O,Y[29]=J.workflow_run_id,Y[30]=$):$=Y[30];let eb=$;Y[31]!==eh||Y[32]!==J.agent_id||Y[33]!==ef?(T=eh&&!ef&&(0,n.jsx)(I,{message:"Loading\u2026",agentId:J.agent_id}),Y[31]=eh,Y[32]=J.agent_id,Y[33]=ef,Y[34]=T):T=Y[34],Y[35]!==eg?.length||Y[36]!==eh||Y[37]!==J.state||Y[38]!==ef?(L=!eh&&!ef&&eg?.length===0&&"in_progress"!==J.state&&(0,n.jsx)("div",{children:"No logs to display"}),Y[35]=eg?.length,Y[36]=eh,Y[37]=J.state,Y[38]=ef,Y[39]=L):L=Y[39];let ew=!eh&&eg&&eg?.length>0&&(0,n.jsxs)(n.Fragment,{children:[eo?e_?.map((e,t)=>(0,n.jsx)(eu,{logEntry:e,commandData:el},`logEntry-${t}`)):ey.map(ea),eo&&(0,n.jsx)(Q,{commands:ep(el,eg)})]});return Y[40]!==ef||Y[41]!==eb?(H=ef&&(0,n.jsx)(o.l,{title:"Error",hideTitle:!0,description:"There was an error loading the logs. Please try again later.",variant:"critical",primaryAction:eb?(0,n.jsx)(o.l.PrimaryAction,{as:"a",href:eb,children:"View detailed logs"}):void 0}),Y[40]=ef,Y[41]=eb,Y[42]=H):H=Y[42],Y[43]!==ei?.display_name||Y[44]!==en||Y[45]!==em||Y[46]!==eo||Y[47]!==eg||Y[48]!==eh||Y[49]!==J.agent_id||Y[50]!==J.state||Y[51]!==ef||Y[52]!==ec||Y[53]!==es?(G="in_progress"===J.state&&!eh&&!ef&&(0,n.jsxs)(n.Fragment,{children:[eg&&eg.length>0?(0,n.jsx)(I,{message:`${ei?.display_name??"Agent"} is working\u{2026}`,agentId:J.agent_id}):(0,n.jsx)(P,{agentId:J.agent_id}),eo&&"default"===es&&en&&(0,n.jsx)(R,{onSubmit:em,error:ec})]}),Y[43]=ei?.display_name,Y[44]=en,Y[45]=em,Y[46]=eo,Y[47]=eg,Y[48]=eh,Y[49]=J.agent_id,Y[50]=J.state,Y[51]=ef,Y[52]=ec,Y[53]=es,Y[54]=G):G=Y[54],Y[55]!==J.error||Y[56]!==ef||Y[57]!==eb?(W=J.error?.message&&!ef&&(0,n.jsx)(j,{errorMessage:J.error.message,workflowRunLink:eb??null}),Y[55]=J.error,Y[56]=ef,Y[57]=eb,Y[58]=W):W=Y[58],Y[59]!==T||Y[60]!==L||Y[61]!==ew||Y[62]!==H||Y[63]!==G||Y[64]!==W?(q=(0,n.jsxs)(n.Fragment,{children:[T,L,ew,H,G,W]}),Y[59]=T,Y[60]=L,Y[61]=ew,Y[62]=H,Y[63]=G,Y[64]=W,Y[65]=q):q=Y[65],q}function ea(e){return(0,n.jsx)(eo,{...e},`entry-${e.id}`)}function eo(e){let t,r,a=(0,s.c)(4),{choices:o}=e;return a[0]!==o?(t=o.map(ei),a[0]=o,a[1]=t):t=a[1],a[2]!==t?(r=(0,n.jsx)(n.Fragment,{children:t}),a[2]=t,a[3]=r):r=a[3],r}function ei(e,t){return(0,n.jsx)(el,{choice:e},`choice-${t}`)}function el(e){let t,r,a,o,i,l,c=(0,s.c)(23),{choice:d}=e,{mcpToolNameMappings:m}=(0,u.Lg)();if(c[0]!==d.delta.content||c[1]!==d.delta.role||c[2]!==d.delta.tool_calls){o=Symbol.for("react.early_return_sentinel");t:{let e,s=(d.delta.tool_calls??[])[0];if(!s&&d.delta.content&&"assistant"===d.delta.role){let e;c[8]!==d.delta.content?(e=(0,n.jsx)(ec,{content:d.delta.content}),c[8]=d.delta.content,c[9]=e):e=c[9],o=e;break t}let l=!!s?.custom;if(i=s?.function?.name??s?.custom?.name,a=l?s?.custom?.input:s?.function?.arguments,!s||!s.id||!i){o=null;break t}if(c[10]===Symbol.for("react.memo_cache_sentinel")?(e={},c[10]=e):e=c[10],r=e,t=!1,l)r="string"==typeof a?{content:a}:{};else if("string"==typeof a)try{r=JSON.parse(a.replace(/\n/g,"\\n"))}catch{t=!0}else a&&(r=a)}c[0]=d.delta.content,c[1]=d.delta.role,c[2]=d.delta.tool_calls,c[3]=t,c[4]=r,c[5]=a,c[6]=o,c[7]=i}else t=c[3],r=c[4],a=c[5],o=c[6],i=c[7];if(o!==Symbol.for("react.early_return_sentinel"))return o;c[11]!==d.delta||c[12]!==t||c[13]!==m||c[14]!==r||c[15]!==a||c[16]!==i?(l=t?(0,n.jsx)(w.NL,{title:"Error parsing tool call arguments",isError:!0,children:(0,n.jsx)(w.cD,{language:"text",markdown:"string"==typeof a?a:JSON.stringify(a??{},null,2)})}):(0,n.jsx)(w.sr,{name:i,delta:d.delta,args:r,mcpToolNameMappings:m}),c[11]=d.delta,c[12]=t,c[13]=m,c[14]=r,c[15]=a,c[16]=i,c[17]=l):l=c[17];let p=l;if(d.delta.reasoning_text){let e,t;return c[18]!==d.delta.reasoning_text?(e=(0,n.jsx)(ed,{content:d.delta.reasoning_text}),c[18]=d.delta.reasoning_text,c[19]=e):e=c[19],c[20]!==p||c[21]!==e?(t=(0,n.jsxs)(n.Fragment,{children:[e,p]}),c[20]=p,c[21]=e,c[22]=t):t=c[22],t}return p}function ec(e){let t,r,o=(0,s.c)(5),{content:i}=e;if(o[0]!==i){let e;o[2]===Symbol.for("react.memo_cache_sentinel")?(e=/<pr_title>.*?<\/pr_title>|<pr_description>.*?<\/pr_description>|<empty>/gs,o[2]=e):e=o[2],t=i.replace(e,""),o[0]=i,o[1]=t}else t=o[1];return i=t,o[3]!==i?(r=(0,n.jsx)("div",{className:en,children:(0,n.jsx)(a.To,{markdown:i})}),o[3]=i,o[4]=r):r=o[4],r}function ed(e){let t,r=(0,s.c)(2),{content:o}=e;return r[0]!==o?(t=(0,n.jsx)("div",{className:en,children:(0,n.jsx)(a.To,{markdown:o})}),r[0]=o,r[1]=t):t=r[1],t}function eu(e){let t=(0,s.c)(7),{logEntry:r,commandData:a}=e;if((0,l.Pb)(r)){let e;return t[0]!==a||t[1]!==r?(e=(0,n.jsx)(U,{rawCommands:r,commandData:a}),t[0]=a,t[1]=r,t[2]=e):e=t[2],e}if((0,l.Qx)(r)){let e,s;return t[3]!==r.choices?(e=r.choices.map(em),t[3]=r.choices,t[4]=e):e=t[4],t[5]!==e?(s=(0,n.jsx)(n.Fragment,{children:e}),t[5]=e,t[6]=s):s=t[6],s}return null}function em(e,t){return(0,n.jsx)(el,{choice:e},`choice-${t}`)}function ep(e,t){return e?.length&&t?e.filter(e=>!t.some(t=>{var r,n;return r=e,n=t,(0,l.PG)(n)&&n.source&&n.source===`command-${r.external_id}`})):[]}try{es.displayName||(es.displayName="SessionLogs")}catch{}try{eo.displayName||(eo.displayName="LogEntry")}catch{}try{el.displayName||(el.displayName="LogEntryChoice")}catch{}try{ec.displayName||(ec.displayName="CopilotMessage")}catch{}try{ed.displayName||(ed.displayName="ReasoningText")}catch{}try{eu.displayName||(eu.displayName="LogEntryRenderer")}catch{}},88984:(e,t,r)=>{r.d(t,{Q:()=>i,w:()=>l});var n=r(74848),s=r(21728),a=r(38621),o=r(67154);function i(e){switch(e){case o.Yj.InProgress:return(0,n.jsx)(l,{});case o.Yj.Completed:return(0,n.jsx)(a.CheckCircleFillIcon,{className:"fgColor-success","aria-label":"Completed"});case o.Yj.Failed:case o.Yj.TimedOut:return(0,n.jsx)(a.XCircleFillIcon,{className:"fgColor-danger","aria-label":"Failed"});case o.Yj.Idle:return(0,n.jsx)(a.DotFillIcon,{className:"fgColor-attention","aria-label":"Idle"});case o.Yj.WaitingForUser:return(0,n.jsx)(a.QuestionIcon,{className:"fgColor-attention","aria-label":"Waiting for user"});case o.Yj.Cancelled:return(0,n.jsx)(a.SquareFillIcon,{className:"fgColor-muted","aria-label":"Cancelled"});case o.Yj.Queued:return(0,n.jsx)(a.ClockIcon,{className:"fgColor-attention","aria-label":"Queued"});default:return null}}function l(){let e,t=(0,s.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsxs)("svg",{"aria-label":"Currently running",width:"16px",height:"16px",fill:"none",viewBox:"0 0 16 16",className:"anim-rotate",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{fill:"none",stroke:"var(--color-fg-attention, #bf8700)",strokeWidth:"2",d:"M3.05 3.05a7 7 0 1 1 9.9 9.9 7 7 0 0 1-9.9-9.9Z",opacity:".5"}),(0,n.jsx)("path",{fill:"var(--color-fg-attention, #bf8700)",fillRule:"evenodd",d:"M8 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"var(--color-fg-attention, #bf8700)",d:"M14 8a6 6 0 0 0-6-6V0a8 8 0 0 1 8 8h-2Z"})]}),t[0]=e):e=t[0],e}try{l.displayName||(l.displayName="InProgressSpinner")}catch{}},98747:(e,t,r)=>{r.d(t,{jg:()=>h,mT:()=>g});var n=r(42455),s=r(67154),a=r(86339),o=r(96540),i=r(44296),l=r(78314),c=r(51120),d=r(97665),u=r(58612),m=r(69599),p=r(46747);function g(e,t,r){return["agent-pr-session-logs",e,t,r]}function h({logsPollingInterval:e,batchCompletedSessions:t=!0,currentUserIsSessionOwner:r}){let{session:h,logs:f,logsAreLoading:y}=(0,i.Lg)(),_=(0,l.t)(),b=(0,d.jE)(),w=(0,m.G7)("copilot_agent_sessions_alive_updates"),[x,j]=(0,o.useState)(0),v=h.id,N=[s.Yj.Completed,s.Yj.Failed,s.Yj.Cancelled].map(e=>e.toLowerCase()).includes(h.state),k=t&&r&&N,C=(0,p.d)(()=>{b.invalidateQueries({queryKey:g(v,_.ownerLogin,_.name)})},e,{maxWait:5e3});(0,u.N)({onEvent:C,enableCreateEvents:!1,enableUpdateEvents:!1,enableLogUpdates:!0,enabled:w});let S=(0,n.b)({queryKey:g(v,_.ownerLogin,_.name),queryFn:async()=>{let e=await (0,c.I)({path:`/agents/sessions/${v}/logs`,streamingResponse:!0}),t=e.body?.getReader();if(!t)throw Error("No reader found in response body");let r=[];try{for await(let e of new a.X(t).stream())if((0,s.X)(e))r.push(e);else throw Error(`Invalid log entry received: ${JSON.stringify(e)}`);return j(0),r}catch(e){throw Error(`Error while streaming logs. Error: ${e}`)}},refetchInterval:!w&&h.state!==s.Yj.Completed&&e,enabled:!(0,s.VY)(h)&&!k&&x<10});(0,o.useEffect)(()=>{S.error&&j(e=>e+1)},[S.error]);let E=S.error&&x>=10;return k&&(f?.length||y)?{data:f,isLoading:y,error:!1,showPollingError:E}:{...S,showPollingError:E}}}}]);
//# sourceMappingURL=17415-3fe08070c8d0.js.map